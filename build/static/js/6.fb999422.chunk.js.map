{"version":3,"sources":["page/shop/components/ShopItem.js","page/shop/index.js","common/prompt/index.js"],"names":["ShopItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","tabIndex","index","setState","itemIndex","state","_this2","_this$props","item","addCarPanelHandle","react_default","a","createElement","className","key","get","style","opacity","alt","getIn","src","map","sku","href","active","onClick","title","Link","to","concat","parseInt","toFixed","Component","connect","dispatch","data","actionCreate","addcarPanel","merge","count","checked","Shop","getShopList","list","id","components_ShopItem","common_prompt","getList","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","_header_store__WEBPACK_IMPORTED_MODULE_2__","Prompt","closePrompt","display","maxOff"],"mappings":"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","file":"static/js/6.fb999422.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { actionCreate } from '../../../common/header/store';\r\n\r\nclass ShopItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      itemIndex: 0\r\n    };\r\n  }\r\n  tabIndex = index => {\r\n    this.setState(() => {\r\n      return {\r\n        itemIndex: index\r\n      };\r\n    });\r\n  };\r\n  render() {\r\n    const { item, addCarPanelHandle } = this.props;\r\n    const { itemIndex } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"item\" key={item.get('id')}>\r\n          <div>\r\n            <div className=\"item-img\">\r\n              <img\r\n                style={{ opacity: 1 }}\r\n                alt={item.getIn(['sku_info', itemIndex, 'title'])}\r\n                src={item.getIn(['sku_info', itemIndex, 'ali_image'])}\r\n              />\r\n            </div>\r\n            <h6>{item.get('name')}</h6>\r\n            <h3>{item.get('name_title')}</h3>\r\n            <div className=\"params-colors\">\r\n              <ul className=\"colors-list\">\r\n                {item.get('sku_info').map((sku, index) => (\r\n                  <li key={sku.get('sku_id')}>\r\n                    <a\r\n                      href=\"javascript:;\"\r\n                      className={{ active: index === itemIndex }}\r\n                      onClick={() => {\r\n                        this.tabIndex(index);\r\n                      }}\r\n                    >\r\n                      <img\r\n                        title={sku.getIn(['spec_json', 'image'])}\r\n                        alt=\"\"\r\n                        src={sku.getIn(['spec_json', 'image'])}\r\n                      />\r\n                    </a>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            <div className=\"item-btns clearfix\">\r\n              <span className=\"item-gray-btn\">\r\n                <Link\r\n                  to={`/item/${item.getIn(['sku_info', itemIndex, 'sku_id'])}`}\r\n                >\r\n                  查看详情\r\n                </Link>\r\n              </span>\r\n              <span\r\n                className=\"item-blue-btn\"\r\n                onClick={() => {\r\n                  addCarPanelHandle(item.getIn(['sku_info', itemIndex]));\r\n                }}\r\n              >\r\n                加入购物车\r\n              </span>\r\n            </div>\r\n            <div className=\"item-price clearfix\">\r\n              <i>¥</i>\r\n              <span>{parseInt(item.get('price')).toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"discount-icon\">false</div>\r\n            <div className=\"item-cover\">\r\n              <Link\r\n                to={`/item/${item.getIn(['sku_info', itemIndex, 'sku_id'])}`}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addCarPanelHandle: data => {\r\n      // 派发一个action，添加数据到购物车里面\r\n      dispatch(\r\n        actionCreate.addcarPanel(\r\n          data.merge({\r\n            count: 1,\r\n            checked: true\r\n          })\r\n        )\r\n      );\r\n    }\r\n  };\r\n};\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(ShopItem);\r\n","import React, { Component } from 'react';\r\nimport ShopItem from './components/ShopItem';\r\nimport { connect } from 'react-redux';\r\nimport { actionCreate } from './store';\r\nimport Dialog from '../../common/prompt/index';\r\nimport './style.css';\r\n\r\nclass Shop extends Component {\r\n  componentDidMount() {\r\n    this.props.getShopList();\r\n  }\r\n  render() {\r\n    const { list } = this.props;\r\n    return (\r\n      <div id=\"main\">\r\n        <div className=\"sku-box store-content\">\r\n          <div className=\"sort-option\">\r\n            <ul className=\"line clear\">\r\n              <li>\r\n                <a href=\"javascript:;\" className=\"active\">\r\n                  综合排序\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a href=\"javascript:;\">销量排序</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"javascript:;\">价格低到高</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"javascript:;\">价格高到低</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"gray-box\">\r\n            <div className=\"item-box\">\r\n              {list.map(item => (\r\n                <ShopItem key={item.get('id')} item={item} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Dialog />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    list: state.getIn(['Shop', 'shopList'])\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getShopList: () => {\r\n      dispatch(actionCreate.getList());\r\n    }\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Shop);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { actionCreate } from '../header/store';\r\n\r\nimport './index.css';\r\n\r\nconst Prompt = props => {\r\n  const { closePrompt } = props;\r\n  return (\r\n    <div id=\"prompt\">\r\n      <div className=\"module-dialog-layer\" style={{ display: 'block' }} />\r\n      <div\r\n        className=\"clear module-dialog module-dialog-confirm module-dialog-show\"\r\n        style={{ display: 'block', opacity: 1 }}\r\n      >\r\n        <div className=\"dialog-panel\">\r\n          <div className=\"topbar\">\r\n            <div className=\"dialog-tit clear\">\r\n              <h4 className=\"js-dialog-title\">提示</h4>\r\n            </div>\r\n            <span className=\"dialog-close png\" onClick={closePrompt} />\r\n          </div>\r\n          <div className=\"dialog-con js-dialog-container\">\r\n            <div className=\"confirm-msg\">\r\n              商品已达到最大可购买数量，无法继续添加\r\n            </div>\r\n          </div>\r\n          <div className=\"dialog-btn-wrap clear\">\r\n            <div\r\n              className=\"blue-main-btn normal-main-btn js-dialog-done\"\r\n              onClick={closePrompt}\r\n            >\r\n              <a>确定</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst Dialog = props => {\r\n  const { maxOff, closePrompt } = props;\r\n  return maxOff ? <Prompt closePrompt={closePrompt} /> : null;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    maxOff: state.getIn(['Header', 'maxOff'])\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    closePrompt: () => {\r\n      dispatch(actionCreate.closePrompt());\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Dialog);\r\n"],"sourceRoot":""}